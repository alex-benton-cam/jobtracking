{% extends "_index.html" %}
{% block content %}
  <div class="container-fluid">
    <div class="row mb-3 gy-3">
      <div class="col-12">
        <h4>Manage Operation Data</h4>
      </div>
      <div class="col-12">
        <div class="card">
          <div class="card-header d-flex justify-content-between">
            <span>Upload Operations</span>
            <form method="POST" enctype="multipart/form-data">
              <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
              <button class="btn btn-outline-dark" name="download_example_ops">
                <span class="bi-download"></span>&nbsp&nbsp<span>Example File</span>
              </button>
            </form>
          </div>
          <div class="card-body">
            <form method="POST" enctype="multipart/form-data" class="form-horizontal">
              <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
              <div class="container-fluid">
                <div class="row gy-2">
                  <div class="form-group col-xl-9 col-lg-8">
                    <input type="file"
                           name="csv_file"
                           id="csv_file"
                           required="True"
                           class="form-control">
                  </div>
                  <div class="form-group col-xl-3 col-lg-4">
                    <button name="upload_operations" class="btn btn-primary" style="width:100%;">
                      <span class="bi-upload" style="margin-right:5px;"></span><span>Upload Operations</span>
                    </button>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="row my-3">
      <div class="col-6 d-flex align-items-stretch">
        <div class="card" style="width: 100%">
          <div class="card-header">Completed Jobs</div>
          <div class="card-body container-fluid"
               method="POST"
               enctype="multipart/form-data">
            <form method="POST" enctype="multipart/form-data" class="row mb-3 mx-1">
              <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
              <button class="btn btn-primary col-12" name="download_completed_jobs">
                <span class="bi-download"></span>&nbsp&nbsp<span>Download Completed Jobs</span>
              </button>
            </form>
            <form method="POST" enctype="multipart/form-data" class="row mx-1">
              <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
              <button class="btn btn-danger col-12" name="delete_completed_jobs">
                <span class="bi-trash" style="margin-right:5px;"></span><span>Delete Completed Jobs</span>
              </button>
            </form>
          </div>
        </div>
      </div>
      <div class="col-6 d-flex align-items-stretch">
        <div class="card" style="width: 100%">
          <div class="card-header">Completed Operations</div>
          <div class="card-body">
            <form method="POST" enctype="multipart/form-data" class="row mb-3 mx-1">
              <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
              <button class="btn btn-primary col-12" name="download_completed_operations">
                <span class="bi-download"></span>&nbsp&nbsp<span>Download Completed Operations</span>
              </button>
            </form>
            <form method="POST" enctype="multipart/form-data" class="row mx-1">
              <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
              <button class="btn btn-info col-12" name="download_completed_job_logs">
                <span class="bi-download"></span>&nbsp&nbsp<span>Download Completed Job Logs</span>
              </button>
            </form>
          </div>
        </div>
      </div>
      <!--div class="col-4 d-flex align-items-stretch">
        <div class="card" style="width: 100%">
          <div class="card-header">Backup</div>
          <div class="card-body">
            <form method="POST" enctype="multipart/form-data" class="row mb-3 mx-1">
              <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
              <button class="btn btn-info col-12" name="make_backup">
                <span class="bi-file-earmark-arrow-down"></span>&nbsp&nbsp<span>Make Backup</span>
              </button>
            </form>
          </div>
        </div>
      </div-->
    </div>
    <!-- Rest of the web page -->
    <!-- Boilerplate HTML creating a container for the data table -->
    <div class="row">
      <div class="col-12">
        <div class="card">
          <!-- Give the table a title  -->
          <div class="card-header">Completed Jobs</div>
          <!-- Generate the datatable -->
          <div class="card-body">{{ datatable(fieldDict, data, "table")}}</div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
